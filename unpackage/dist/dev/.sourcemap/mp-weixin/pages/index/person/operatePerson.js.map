{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/WCM/pages/index/person/operatePerson.vue?00da","webpack:///C:/Users/Administrator/Desktop/WCM/pages/index/person/operatePerson.vue?d3bf","webpack:///C:/Users/Administrator/Desktop/WCM/pages/index/person/operatePerson.vue?5807","webpack:///C:/Users/Administrator/Desktop/WCM/pages/index/person/operatePerson.vue?2b53","uni-app:///pages/index/person/operatePerson.vue","webpack:///C:/Users/Administrator/Desktop/WCM/pages/index/person/operatePerson.vue?cfd5","webpack:///C:/Users/Administrator/Desktop/WCM/pages/index/person/operatePerson.vue?aae3"],"names":["createPage","Page"],"mappings":"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","file":"pages/index/person/operatePerson.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/person/operatePerson.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./operatePerson.vue?vue&type=template&id=396e8f15&scoped=true&\"\nvar renderjs\nimport script from \"./operatePerson.vue?vue&type=script&lang=js&\"\nexport * from \"./operatePerson.vue?vue&type=script&lang=js&\"\nimport style0 from \"./operatePerson.vue?vue&type=style&index=0&id=396e8f15&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"396e8f15\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/person/operatePerson.vue\"\nexport default component.exports","export * from \"-!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./operatePerson.vue?vue&type=template&id=396e8f15&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./operatePerson.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./operatePerson.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\" @tap='hideDP'>\r\n\t\t<view class=\"allHeader\">\r\n\t\t\t<view class=\"status_bar\"></view>\r\n\t\t\t<view class=\"headers\">\r\n\t\t\t\t<image @tap.stop=\"backTo\" src=\"../../../static/home/020.png\" mode=\"\"></image>\r\n\t\t\t\t<text>修改员工</text>\r\n\t\t\t\t<text @tap.stop='deleStaff(staffInfo.userId)'>删除</text>\r\n\t\t\t</view>\t\t\t\r\n\t\t</view>\n\t\t<view class=\"person-item\">\r\n\t\t\t<view class=\"inputStatus\">\r\n\t\t\t\t<text>姓名</text>\r\n\t\t\t\t<input type=\"text\" v-model=\"uname\"  placeholder=\"请输入姓名\" placeholder-style=\"color:#fff;font-size:24rpx\" value=\"\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"inputStatus\">\r\n\t\t\t\t<text>企业</text>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text>{{qyIndex===''?'请选择企业':qyList[qyIndex].companyName}}</text>\r\n\t\t\t\t\t<image src=\"../../../static/home/017.png\" :style=\"{transform:`rotate(${seletQy?'0':'-180'}deg)`}\" @tap.stop=\"isSeletQy\" mode=\"\"></image>\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view v-show=\"seletQy\" scroll-y=\"true\" class=\"selets\">\r\n\t\t\t\t\t<view @tap.stop=\"qySelete(i)\" v-for=\"(q,i) in qyList\" :key=\"'q'+i\">{{q.companyName}}</view> \r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"inputStatus\"> \r\n\t\t\t\t<text>登录账号</text>\r\n\t\t\t\t<input type=\"number\" maxlength=\"11\" disabled v-model=\"phone\" placeholder=\"请输入员工手机号\" placeholder-style=\"color:#fff;font-size:24rpx\" value=\"\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"inputStatus\">\r\n\t\t\t\t<text>工号</text>\r\n\t\t\t\t<input type=\"text\" v-model=\"uid\" placeholder=\"请输入员工工号\" placeholder-style=\"color:#fff;font-size:24rpx\" value=\"\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"inputStatus\">\r\n\t\t\t\t<text>岗位</text>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text>{{gwIndex===''?'请选择岗位':gwList[gwIndex].jobName}} </text>\r\n\t\t\t\t\t<image src=\"../../../static/home/017.png\" @tap.stop=\"isSeletGw\" :style=\"{transform:`rotate(${seletGw?'0':'-180'}deg)`}\" mode=\"\"></image>\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view v-show=\"seletGw\" scroll-y=\"true\" class=\"selets\"> \r\n\t\t\t\t\t<view @tap.stop=\"gwSelete(index)\" v-for=\"(g,index) in gwList\" :key=\"'g'+index\">{{g.jobName}}</view> \r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"addPic\">\r\n\t\t\t\t<view>照片</view>\r\n\t\t\t\t<view class=\"pics\">\r\n\t\t\t\t\t<view class=\"addss\" @tap.stop='addImg'>\r\n\t\t\t\t\t\t<view></view>\r\n\t\t\t\t\t\t<view></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"showImges\" @tap.stop='showDp(img.name)'  v-for=\"(img,index) in pics\" :key='\"img\"+index'>\r\n\t\t\t\t\t\t<image  :src=\"base_url+'/img'+img.url\" mode=\"\"></image>\r\n\t\t\t\t\t\t<view v-if=\"picId==img.name\">\r\n\t\t\t\t\t\t\t<image @tap.stop=\"imgDeled(img.name,index)\" src=\"../../../static/mine/ljt2.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<button @tap.stop=\"qureAdd\">确定</button>\n\t</view>\n</template>\n\n<script>\n\texport default {  \n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tseletQy:false,\r\n\t\t\t\tseletGw:false,\r\n\t\t\t\tqyList:[],//企业列表,\r\n\t\t\t\tgwList:[],//岗位列表\r\n\t\t\t\tuid:'',//用户id\r\n\t\t\t\tqyIndex:'',//选择企业下标\r\n\t\t\t\tgwIndex:'',//选择岗位下标\r\n\t\t\t\tuname:'',//用户姓名\r\n\t\t\t\tphone:'',//用户手机号\r\n\t\t\t\tpics:[],//上传图片列表\r\n\t\t\t\tisAdd:false,//是否添加\r\n\t\t\t\tstaffId:'',\r\n\t\t\t\tstaffInfo:{},\r\n\t\t\t\tpicId:'',\n\t\t\t}\n\t\t},\r\n\t\tonLoad(e){\r\n\t\t\tthis.staffId = e.staffId;\r\n\t\t\tthis.getQYlist();\r\n\t\t\tthis.getStaffInfo()\r\n\t\t},\n\t\tmethods: {\r\n\t\t\t// 获取员工信息\r\n\t\t\tgetStaffInfo(){\r\n\t\t\t\tlet api = '/staff/info';\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tuserId:this.staffId\r\n\t\t\t\t}\r\n\t\t\t\tthis.http(api,'GET',data).then(res=>{\r\n\t\t\t\t\tconsole.log(res,'员工信息')\r\n\t\t\t\t\tif(res.code==200){\r\n\t\t\t\t\t\tthis.qyList.forEach((item,i)=>{\r\n\t\t\t\t\t\t\tif(res.data.companyId&&(res.data.companyId == item.companyId)){\r\n\t\t\t\t\t\t\t\tthis.qyIndex = i\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.getGWLsit(res.data.companyId,res.data.jobId);\r\n\t\t\t\t\t\tthis.staffInfo =  res.data;\r\n\t\t\t\t\t\tthis.uname = res.data.userName;\r\n\t\t\t\t\t\tthis.phone = res.data.phone;\r\n\t\t\t\t\t\tthis.uid = res.data.jobNum;\r\n\t\t\t\t\t\tthis.pics = res.data.mediaInfoList.map((item,i)=>{\r\n\t\t\t\t\t\t\treturn item\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 删除员工\r\n\t\t\tdeleStaff(n){\r\n\t\t\t\tlet api = '/staff/remove';\r\n\t\t\t\tlet data = { userId:n };\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:\"确认操作\",\r\n\t\t\t\t\tcontent:'是否删除员工？',\r\n\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\tif(res.confirm){\r\n\t\t\t\t\t\t\tuni.showLoading({title:'删除中'})\r\n\t\t\t\t\t\t\tthis.http(api,\"POST\",data).then(res=>{\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\tif(res.code==200){\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle:'删除成功',\r\n\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tsetTimeout(()=>{ uni.navigateBack() },800);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 返回上一页\r\n\t\t\tbackTo(){\r\n\t\t\t\tuni.navigateBack({})\r\n\t\t\t},\r\n\t\t\t// \n\t\t\tisSeletGw(){\r\n\t\t\t\tif(this.seletGw){\r\n\t\t\t\t\tthis.seletGw = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.seletGw = true;\r\n\t\t\t\t\tif(this.qyIndex===''){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'请先选择企业',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisSeletQy(){\r\n\t\t\t\tthis.seletQy = !this.seletQy\r\n\t\t\t},\r\n\t\t\t// 选择企业\r\n\t\t\tqySelete(n){\r\n\t\t\t\tthis.qyIndex = n;\r\n\t\t\t\tthis.seletQy = false;\r\n\t\t\t\tthis.gwIndex = ''\r\n\t\t\t\tthis.getGWLsit();\r\n\t\t\t},\r\n\t\t\t// 选择岗位\r\n\t\t\tgwSelete(n){\r\n\t\t\t\tthis.gwIndex = n;\r\n\t\t\t\tthis.seletGw = false;\r\n\t\t\t},\r\n\t\t\t// 确定添加\r\n\t\t\tqureAdd(){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:'确认操作',\r\n\t\t\t\t\tcontent:'是否修改员工信息?',\r\n\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\tif(res.confirm){\r\n\t\t\t\t\t\t\tthis.addStaff()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//添加员工\r\n\t\t\tasync addStaff(){\r\n\t\t\t\tif(!this.uname){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'用户名不能为空',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.qyIndex===''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请选择企业',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.phone){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'手机号不能为空',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.uid){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'工号不能为空',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.gwIndex===''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请选择岗位',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.pics.length==0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请选择图片',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet api = '/staff/revamp';\r\n\t\t\t\tlet\tdata = {\r\n\t\t\t\t\t\tcompanyId:this.qyList[this.qyIndex].companyId,\r\n\t\t\t\t\t\tjobId:this.gwList[this.gwIndex].jobId,\r\n\t\t\t\t\t\tjobNum:this.uid,\r\n\t\t\t\t\t\tuserName:this.uname,\r\n\t\t\t\t\t\tuserId:this.staffInfo.userId\r\n\t\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'修改中'\r\n\t\t\t\t})\r\n\t\t\t\tlet result = await this.http(api,\"POST\",data);\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tif(result.code==200){\r\n\t\t\t\t\tthis.isAdd = true\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'修改成功',\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\tduration:1500\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetTimeout(()=>{ uni.navigateBack() },800);\r\n\t\t\t\t}\t\r\n\t\t\t},\r\n\t\t\t// 获取企业列表\r\n\t\t\tasync getQYlist(){\r\n\t\t\t\tlet api = '/company/choose';\r\n\t\t\t\tlet data = { userId:uni.getStorageSync('userInfo').userId }\r\n\t\t\t\tlet res = await this.http(api,\"GET\",data);\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif(res.code==200){\r\n\t\t\t\t\tthis.qyList = res.data\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取岗位列表\r\n\t\t\tasync getGWLsit(n,m){\r\n\t\t\t\tlet api = '/company/choose/job';\r\n\t\t\t\tlet data = { companyId:n&&m?n:this.qyList[this.qyIndex].companyId };\r\n\t\t\t\tlet res = await this.http(api,\"GET\",data);\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif(res.code==200){\r\n\t\t\t\t\tthis.gwList = res.data;\r\n\t\t\t\t\tif(n&&m){\r\n\t\t\t\t\t\tres.data.forEach((item,i)=>{\r\n\t\t\t\t\t\t\tif(item.jobId == m ){\r\n\t\t\t\t\t\t\t\tthis.gwIndex = i\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 上传图片\r\n\t\t\tupLoadImg(imgs){\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'上传中'\r\n\t\t\t\t})\r\n\t\t\t\tlet imgList = []\r\n\t\t\t\timgs.forEach((item,i)=>{\r\n\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\turl:this.base_url+`/staff/upload/media/${this.staffInfo.userId}`,\r\n\t\t\t\t\t\tfilePath:item,\r\n\t\t\t\t\t\tname:'file',\r\n\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\tAuthorization:uni.getStorageSync('token'), \r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tconsole.log(JSON.parse(res.data) ,'上传图片')\r\n\t\t\t\t\t\t\tif(JSON.parse(res.data).code==200){\r\n\t\t\t\t\t\t\t\tthis.isAdd = false\r\n\t\t\t\t\t\t\t\tthis.pics.push(JSON.parse(res.data).data)\r\n\t\t\t\t\t\t\t\t// console.log(imgList)\r\n\t\t\t\t\t\t\t\t// this.pics = imgList\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:'图片上传失败',\r\n\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},fail:err=>{\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'图片上传失败',\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 添加图片\r\n\t\t\taddImg(){\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount:3,\r\n\t\t\t\t\tsizeType:['album'],\r\n\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif(res.errMsg==\"chooseImage:ok\"){\r\n\t\t\t\t\t\t\tlet tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\t\t\tthis.upLoadImg(tempFilePaths);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tshowDp(pid){\r\n\t\t\t\tthis.picId = pid\r\n\t\t\t},\r\n\t\t\thideDP(){\r\n\t\t\t\tthis.picId = ''\r\n\t\t\t},\r\n\t\t\timgDeled(pid,index){\r\n\t\t\t\tuni.showLoading({title:\"处理中\"})\r\n\t\t\t\tlet api = '/staff/media/remove';\r\n\t\t\t\tlet data = { mediaId:pid };\r\n\t\t\t\tthis.http(api,\"POST\",data).then(res=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.code==200){\r\n\t\t\t\t\t\tthis.pics.splice(index,1)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t},\r\n\t\t// 监听返回\r\n\t\tonBackPress(options) {\r\n\t\t\tconsole.log(options,'监听返回')\r\n\t\t\t// if(options.from == \"backbutton\"){\r\n\t\t\t// \tif(this.pics.length!==0 && !this.isAdd){\r\n\t\t\t// \t\tthis.deleImg()\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t},\r\n\t}\n</script>\n\n<style scoped>\r\n\t.allHeader{\r\n\t\tbackground: #021e3d;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.status_bar {\r\n\t\theight: var(--status-bar-height);\r\n\t\twidth: 100%;\r\n\t}\r\n\t.headers{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\theight: 100rpx;\r\n\t\tpadding: 10rpx 30rpx 10rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: #021e3d;\r\n\t}\r\n\t.headers image{\r\n\t\twidth: 16rpx;\r\n\t\theight: 28rpx;\r\n\t}\r\n\t.headers text:first-of-type{\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\t.headers text:nth-of-type(2){\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t.selets{\r\n\t\tposition: absolute;\r\n\t\twidth: 380rpx;\r\n\t\theight: 270rpx;\r\n\t\tpadding: 32rpx 0 25rpx 0rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #041647;\r\n\t\ttop: 92rpx;\r\n\t\tleft: 160rpx;\r\n\t\tz-index: 99;\r\n\t}\r\n\t.selets view{\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 28rpx;\r\n\t\twidth: 100%;\r\n\t\theight: 55rpx;\r\n\t\tline-height: 55rpx;\r\n\t\tpadding-left: 53rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin-bottom: 3rpx;\r\n\t}\r\n\t.addPic{\r\n\t\tmargin-top: 39rpx;\r\n\t},\r\n\t.addPic>view{\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 28rpx;\r\n\t\tmargin-left: 15rpx;\r\n\t}\r\n\t.addPic .pics{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-left: 61rpx;\r\n\t\tmargin-top: 24rpx;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t.addss{\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t\tbackground: #0F439B;\r\n\t\tposition: relative;\r\n\t\tmargin-right: 12rpx;\r\n\t\tmargin-bottom: 12rpx;\r\n\t}\r\n\t.addss:active{\r\n\t\tbackground: #0a2f6c;\r\n\t}\r\n\t.addss>view:nth-child(1){\r\n\t\twidth: 5rpx;\r\n\t\theight: 60rpx;\r\n\t\tposition: absolute;\r\n\t\tbackground-color: #fff;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%,-50%);\r\n\t}\r\n\t.addss>view:nth-child(2)::after{\r\n\t\tcontent: '';\r\n\t\tdisplay: none;\r\n\t}\r\n\t.addss>view:nth-child(2)::before{\r\n\t\tcontent: '';\r\n\t\tdisplay: none;\r\n\t}\r\n\t.addss>view:nth-child(2){\r\n\t\twidth: 60rpx;\r\n\t\theight: 5rpx;\r\n\t\tposition: absolute;\r\n\t\tbackground-color: #fff;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%,-50%);\r\n\t}\r\n\t.pics .showImges{\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t\tmargin-right: 12rpx;\r\n\t\tmargin-bottom: 12rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\t.showImges view{\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tbackground: rgba(255,255,255,.5);\r\n\t}\r\n\t.showImges view>image{\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tmargin: 30rpx;\r\n\t}\r\n\t.showImges>image{\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t}\r\n\tbutton{\r\n\t\twidth: 562rpx;\r\n\t\theight: 78rpx;\r\n\t\tline-height: 78rpx;\r\n\t\tbackground: #0F439B;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 28rpx;\r\n\t\tborder-radius: 39rpx;\r\n\t\tmargin-top:136rpx;\r\n\t}\r\n\tbutton:active{\r\n\t\tbackground: #0b3375;\r\n\t}\r\n\t.inputStatus{\r\n\t\theight: 92rpx;\r\n\t\tborder-bottom: 1rpx solid #b1b4be;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: relative;\r\n\t}\r\n\t.inputStatus text{\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #fff;\r\n\t\tmargin-left: 15rpx;\r\n\t}\r\n\t.inputStatus>view{\r\n\t\theight: 100%;\r\n\t\twidth: 503rpx;\r\n\t\tline-height: 92rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t.inputStatus>view>text{\r\n\t\tmargin-left: 0;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t.inputStatus>view>image{\r\n\t\twidth: 18rpx;\r\n\t\theight: 10rpx;\r\n\t\tmargin-left: 47rpx;\r\n\t\ttransition: all .3s linear;\r\n\t}\r\n\t.inputStatus input{\r\n\t\theight: 100%;\r\n\t\twidth: 503rpx;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 28rpx;\r\n\t}\n\t.person-item{\r\n\t\tpadding: 0 14rpx 39rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\n</style>\n","import mod from \"-!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./operatePerson.vue?vue&type=style&index=0&id=396e8f15&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\gg\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./operatePerson.vue?vue&type=style&index=0&id=396e8f15&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592985777997\n      var cssReload = require(\"E:/gg/HBuilderX.2.6.11.20200409.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}